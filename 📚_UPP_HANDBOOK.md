# 📚 Universal Printing Press - Complete Handbook

**Version:** 3.0  
**Last Updated:** October 2025  
**Developer:** Frank Bediako (frankbediako38@gmail.com)  
**For:** All User Roles (CEO, Manager, Executive Assistant, Board, Staff)

---

## 📖 Table of Contents

1. [Introduction](#introduction)
2. [Getting Started](#getting-started)
3. [User Roles & Permissions](#user-roles--permissions)
4. [Dashboard](#dashboard)
5. [Orders Management](#orders-management)
6. [Customer Management](#customer-management)
7. [File Storage System](#file-storage-system)
8. [Tasks & Assignments](#tasks--assignments)
9. [Staff Management](#staff-management)
10. [Inventory Management](#inventory-management)
11. [Enquiries](#enquiries)
12. [Expenses Management](#expenses-management)
13. [Reports & Analytics](#reports--analytics)
14. [Notifications](#notifications)
15. [Attendance Tracking](#attendance-tracking)
16. [Theme & Preferences](#theme--preferences)
17. [Troubleshooting](#troubleshooting)

---

## 🎯 Introduction

### What is Universal Printing Press App?

The **Universal Printing Press (UPP) Smart Dashboard System** is a comprehensive business management platform designed specifically for printing businesses. It streamlines operations, tracks orders, manages staff, monitors inventory, and provides real-time analytics.

### Key Features

- 📊 **Real-time Dashboard** - Live statistics and insights
- 📋 **Order Management** - Create, edit, track, and delete orders
- 👥 **Customer Database** - Track top customers and manage relationships
- 📁 **File Storage** - Upload and manage order files and company documents
- ✅ **Task Management** - Assign and track tasks across teams
- 🏭 **Inventory Control** - Monitor equipment, materials, and vendors
- 🧾 **Expenses Tracking** - Monitor company expenses with alerts and reporting
- 📈 **Analytics & Reports** - Generate insights, profit margins, and export data
- 🔔 **Real-time Notifications** - Stay updated on important events (browser + email + mobile push)
- ⏰ **Smart Attendance** - Location-verified check-in/out with history
- 🎨 **Dark/Light Theme** - Customizable interface
- 📱 **Responsive Design** - Works on desktop, tablet, and mobile

---

## 🚀 Getting Started

### First Login

1. **Access the Dashboard**
   - Navigate to your UPP app URL
   - You'll be redirected to the role selection page

2. **Select Your Role**
   - Choose: CEO, Manager, Board, or Staff
   - Click "Continue as [Role]"
   - You'll be taken to your role-specific dashboard

3. **Explore the Interface**
   - **Sidebar (Left)**: Main navigation menu
   - **Topbar (Right)**: Notifications, theme toggle, user menu
   - **Main Area**: Current page content

### Navigation

- **Desktop**: Use the sidebar on the left
- **Mobile**: Tap the hamburger menu (☰) in the top-left
- **Quick Access**: Use the top navigation bar for key actions

---

## 👤 User Roles & Permissions

### CEO (Chief Executive Officer)
**Access Level:** Full Control

**Permissions:**
- ✅ View all data and reports
- ✅ Create, edit, and delete orders
- ✅ Manage all customers (top + other customers)
- ✅ Upload, download, and delete files
- ✅ Assign and manage tasks
- ✅ Manage staff members
- ✅ Full inventory control
- ✅ Create and manage expenses
- ✅ Access all reports and analytics
- ✅ View and manage enquiries
- ✅ View all staff attendance
- ✅ Receive email and push alerts for large expenses

### Manager
**Access Level:** High Control

**Permissions:**
- ✅ View all data and reports
- ✅ Create, edit, and delete orders
- ✅ Manage all customers
- ✅ Upload, download, and delete files
- ✅ Assign and manage tasks
- ✅ Manage staff (limited)
- ✅ Full inventory control
- ✅ Create and manage expenses
- ✅ Access reports and analytics
- ✅ Manage enquiries
- ✅ View all staff attendance

### Executive Assistant
**Access Level:** High Control (Manager-equivalent)

**Permissions:**
- ✅ View all data and reports
- ✅ Create, edit, and delete orders
- ✅ Manage all customers (top + other customers)
- ✅ Upload, download, and delete files
- ✅ Assign and manage tasks
- ✅ Manage staff
- ✅ Full inventory control
- ✅ Create and manage expenses
- ✅ Access reports and analytics
- ✅ Manage enquiries
- ✅ View all staff attendance
- ✅ Receive email and push alerts for large expenses

### Board Member
**Access Level:** View + Limited Edit

**Permissions:**
- ✅ View dashboard and analytics
- ✅ View orders (cannot edit/delete)
- ✅ View top customers only
- ✅ Download files (cannot upload/delete)
- ✅ View tasks
- ✅ View staff list
- ✅ View inventory
- ✅ View enquiries
- ✅ Access reports

### Staff
**Access Level:** Basic Operations

**Permissions:**
- ✅ View dashboard
- ✅ View and create orders
- ✅ View top customers only
- ✅ Upload and download files
- ✅ View assigned tasks
- ✅ View staff list
- ✅ View inventory
- ✅ View enquiries
- ❌ Cannot delete orders
- ❌ Cannot manage customers
- ❌ Cannot delete files

---

## 📊 Dashboard

### Overview

The Dashboard is your command center, showing key metrics and recent activity.

### Key Metrics

1. **Total Orders** - Count of all orders in the system
2. **Total Revenue** - Sum of all order amounts (₵)
3. **Pending Payments** - Orders awaiting payment
4. **Active Tasks** - Ongoing assignments
5. **Total Customers** - Number of unique customers
6. **Staff Members** - Total team size

### Recent Activity

- **Recent Orders**: Last 5 orders with quick actions
- **Recent Tasks**: Latest task assignments
- **Upcoming Deadlines**: Orders/tasks due soon

### Quick Actions

- 📋 **New Order**: Create a new printing order
- ✅ **New Task**: Assign a task to staff
- 👥 **Add Customer**: Register a new customer (CEO/Manager only)

---

## 📋 Orders Management

### Viewing Orders

**Navigation:** Sidebar → Orders

**Features:**
- Searchable table with all orders
- Filter by:
  - Order status (Pending, In Progress, Completed, Cancelled)
  - Payment status (Pending, Partial, Full Payment)
  - Date range
  - Time period (Daily, Weekly, Monthly, Yearly)
- Sort by any column
- Paginated view (20 orders per page)

### Order Details

Each order displays:
- **Order Number**: Unique identifier (e.g., ORD-123456)
- **Customer**: Name, phone, email
- **Description**: Item details
- **Quantity**: Number of items
- **Amount**: Total cost (₵)
- **Payment Method**: Cash, Mobile Money, Bank Transfer, Cheque
- **Payment Status**: Current payment state
- **Order Status**: Progress state
- **Created By**: Staff member who created the order
- **Date**: Creation timestamp
- **Actions**: Edit, Delete, Assign, Files

### Creating a New Order

1. Click **"+ New Order"** button (top-right)
2. Fill in the form:
   - **Customer Name** (required)
   - **Customer Phone** (required)
   - **Customer Email** (optional)
   - **Item Description**: Describe the printing job
   - **Quantity**: Number of items
   - **Total Amount**: Price in Cedis (₵)
   - **Payment Method**: Select from dropdown
3. Click **"Create Order"**
4. Success toast appears
5. Order added to list

### Editing an Order

**Who Can Edit:** CEO, Manager

1. Find the order in the table
2. Click the **✏️ Edit icon** (pencil)
3. Modal opens with prefilled data
4. Update any fields:
   - Customer information
   - Order details
   - Payment method/status
   - Order status
   - Due date
   - Notes
5. Click **"Save Changes"**
6. Order updated in database
7. Notification sent to relevant users

### Deleting an Order

**Who Can Delete:** CEO, Manager

1. Find the order in the table
2. Click the **🗑️ Delete icon** (trash)
3. Confirmation dialog appears
4. Review the order number
5. Click **"Delete"** to confirm
6. Order permanently removed
7. Notification sent

### Payment Status

**Options:**
- **Pending**: No payment received
- **Partial Payment**: Some amount paid
- **Full Payment**: Fully paid
- **Pending on Contract**: Awaiting contract payment
- **Partially Paid on Contract**: Contract partially fulfilled

**Inline Editing:**
- Click on the payment status badge
- Dropdown appears
- Select new status
- Auto-saves immediately

### Order Status

**Options:**
- **Pending**: Not yet started
- **In Progress**: Currently being worked on
- **Completed**: Job finished
- **Cancelled**: Order cancelled

**Inline Editing:**
- Click on the order status badge
- Dropdown appears
- Select new status
- Auto-saves immediately

### Order Files

Each order can have attached files (designs, proofs, invoices, etc.)

**Uploading Files:**
1. Click the **📎 Files icon** or expand arrow
2. File upload section appears
3. Click to browse or drag-and-drop files
4. Multiple files supported
5. Upload progress shown
6. Files listed below upload area

**Managing Files:**
- **👁️ View/Download**: Click eye icon to open/download file
- **🗑️ Delete**: Click trash icon (CEO/Manager only)

**File Information:**
- Filename
- File size (KB/MB)
- Upload date

### Assigning Tasks from Orders

**Who Can Assign:** CEO, Manager

1. Find the order
2. Click the **👤 Assign icon** (user)
3. Task assignment modal opens
4. Fill in:
   - Task title
   - Description
   - Assign to staff member
   - Due date
   - Priority
5. Click **"Assign Task"**
6. Staff member notified

### Exporting Orders

1. Set your filters (status, date range, etc.)
2. Click **"Export CSV"** button
3. CSV file downloads with filtered orders
4. Open in Excel/Google Sheets

---

## 👥 Customer Management

### Overview

**Navigation:** Sidebar → Customers

The Customers page has two sections:

1. **Top Customers** - Auto-generated leaderboard
2. **Other Customers** - Manually added customers (CEO/Manager only)

### Top Customers

**What It Shows:**
- Top 10 customers by total revenue
- Ranked from highest to lowest spender

**Columns:**
- **Rank**: Position (🥇 Gold, 🥈 Silver, 🥉 Bronze for top 3)
- **Customer Name**
- **Phone**: Click to call (`tel:` link)
- **Email**: Click to email (`mailto:` link)
- **Total Orders**: Number of orders placed
- **Total Spent**: Revenue from this customer (₵)

**Features:**
- Search/filter by name, phone, or email
- Auto-updates from orders table
- Export to CSV

### Other Customers

**Who Can Access:** CEO, Manager only

**Purpose:** Manually track customers not yet in orders system (prospects, leads, etc.)

### Adding a Customer

1. Click **"+ Add Customer"** button
2. Fill in the form:
   - **Full Name** (required) - e.g., "Seven Frank"
   - **Email** (required) - e.g., "seven@example.com"
   - **Phone** (required) - e.g., "seven@example.com"
   - **Company** (optional) - e.g., "SevenLink Technologies"
   - **Notes** (optional) - Additional information
3. Click **"Add Customer"**
4. Customer added to "Other Customers" list

### Editing a Customer

1. Find customer in "Other Customers" table
2. Click **✏️ Edit** button
3. Update form opens with current data
4. Make changes
5. Click **"Save Changes"**

### Deleting a Customer

1. Find customer in "Other Customers" table
2. Click **🗑️ Delete** button
3. Confirmation dialog appears
4. Click **"Delete"** to confirm
5. Customer removed from database

### Customer Statistics

**Top Customers Stats:**
- Total Top Customers: Count
- Total Orders: Sum from top customers
- Total Revenue: Sum from top customers

**Other Customers Stats:**
- Total Other Customers: Count
- Recent Additions: New customers this month

---

## 📁 File Storage System

### Overview

**Navigation:** Sidebar → Files

Two types of file storage:

1. **Order Files** - Attached to specific orders
2. **Company Files** - General company documents

### Company Files

**Who Can Access:** All roles

**Who Can Upload:** CEO, Manager, Staff

**Who Can Delete:** CEO, Manager only

### Uploading Company Files

1. Go to **Files** page
2. Click **"Upload Files"** button
3. Select files or drag-and-drop
4. Multiple files supported
5. Upload progress shown
6. Files appear in list immediately

### File List

**Columns:**
- **Filename**: Name of the file
- **Size**: File size (KB/MB/GB)
- **Type**: File extension/MIME type
- **Uploaded By**: User who uploaded
- **Upload Date**: Timestamp
- **Actions**: Download, Delete

### Downloading Files

1. Find file in list
2. Click **"Download"** button or filename
3. File downloads via secure signed URL
4. Opens in browser or saves to device

### Deleting Files

**Who Can Delete:** CEO, Manager

1. Find file in list
2. Click **🗑️ Delete** icon
3. Confirmation dialog appears
4. Click **"Delete"**
5. File permanently removed from storage
6. Notification sent

### Searching Files

1. Use search box at top
2. Type filename or keywords
3. List filters in real-time
4. Clear search to see all files

### Storage Statistics

- **Total Files**: Count of all company files
- **Total Size**: Sum of all file sizes
- **Recent Uploads**: Files added this week

---

## ✅ Tasks & Assignments

### Overview

**Navigation:** Sidebar → Tasks

Manage task assignments, track progress, and ensure deadlines are met.

### Viewing Tasks

**All Roles Can:**
- View task list
- See task details
- Filter by status, assignee, priority

**Columns:**
- **Title**: Task name
- **Description**: Details
- **Assigned To**: Staff member
- **Status**: Pending, In Progress, Completed
- **Priority**: Low, Medium, High, Urgent
- **Due Date**: Deadline
- **Created By**: Who assigned the task
- **Actions**: Edit, Delete, Mark Complete

### Creating a Task

**Who Can Create:** CEO, Manager

1. Click **"+ New Task"** button
2. Fill in form:
   - **Title** (required)
   - **Description**
   - **Assign to** (select staff member)
   - **Priority** (Low/Medium/High/Urgent)
   - **Due Date**
3. Click **"Create Task"**
4. Notification sent to assignee

### Editing a Task

**Who Can Edit:** CEO, Manager, Assignee

1. Find task in list
2. Click **✏️ Edit** button
3. Update form opens
4. Make changes
5. Click **"Save"**

### Completing a Task

1. Find task in list
2. Click **"Mark Complete"** button
3. Status changes to "Completed"
4. Notification sent to task creator

### Deleting a Task

**Who Can Delete:** CEO, Manager

1. Find task in list
2. Click **🗑️ Delete** button
3. Confirm deletion
4. Task removed

### Task Filters

- **By Status**: All, Pending, In Progress, Completed
- **By Priority**: All, Low, Medium, High, Urgent
- **By Assignee**: All, Specific staff member
- **By Date**: Due this week, Overdue, All

---

## 👥 Staff Management

### Overview

**Navigation:** Sidebar → Users

Manage team members, roles, and contact information.

**Who Can Manage:** CEO, Manager

### Staff List

**Columns:**
- **Name**: Staff member's full name
- **Email**: Contact email
- **Phone**: Contact number
- **Role**: Position/Department
- **Status**: Active, Inactive
- **Join Date**: When they joined
- **Actions**: Edit, Delete

### Adding Staff

1. Click **"+ Add Staff"** button
2. Fill in form:
   - Full Name
   - Email Address
   - Phone Number
   - Role/Position
   - Department
   - Start Date
3. Click **"Add Staff Member"**
4. Credentials sent to email (if applicable)

### Editing Staff Details

1. Find staff member
2. Click **✏️ Edit** button
3. Update information
4. Click **"Save Changes"**

### Deactivating Staff

1. Find staff member
2. Click **"Deactivate"** button
3. Staff status changes to "Inactive"
4. They can no longer log in

### Staff Statistics

- **Total Staff**: Active team members
- **By Department**: Breakdown by department
- **Recent Hires**: Staff added this month

---

## 🏭 Inventory Management

### Overview

**Navigation:** Sidebar → Inventory section

Three modules:
1. **Equipment** - Machines and tools
2. **Materials** - Raw materials and supplies
3. **Vendors** - Supplier information

### Equipment Management

**Track:**
- Printing machines
- Cutters, binders, laminators
- Computers and software
- Tools and accessories

**Details:**
- Equipment name
- Serial number
- Purchase date
- Condition (New, Good, Needs Repair, Out of Service)
- Location
- Maintenance schedule
- Cost

**Actions:**
- Add new equipment
- Edit equipment details
- Mark for maintenance
- Decommission equipment

### Materials Management

**Track:**
- Paper (types, sizes, quantities)
- Ink and toner
- Binding materials
- Laminating sheets
- Other consumables

**Details:**
- Material name
- Type/Category
- Quantity in stock
- Reorder level
- Unit cost
- Supplier
- Last restocked date

**Low Stock Alerts:**
- Automatic warnings when materials below reorder level
- Notification sent to CEO/Manager

**Actions:**
- Add new material
- Update stock levels
- Reorder materials
- Set reorder thresholds

### Vendors Management

**Track:**
- Supplier names
- Contact information
- Products supplied
- Payment terms
- Ratings/Notes

**Details:**
- Vendor name
- Contact person
- Email and phone
- Address
- Products/Services
- Contract terms
- Performance notes

**Actions:**
- Add new vendor
- Edit vendor details
- Rate vendor
- Deactivate vendor

---

## 💬 Enquiries

### Overview

**Navigation:** Sidebar → Enquiries

Manage customer inquiries, quote requests, and general questions.

### Enquiry List

**Columns:**
- **Customer Name**
- **Contact Info**
- **Enquiry Type**: Quote, Information, Complaint, Other
- **Subject**
- **Message**
- **Status**: New, In Progress, Resolved, Closed
- **Priority**: Low, Medium, High
- **Date Received**
- **Actions**: View, Respond, Close

### Adding an Enquiry

1. Click **"+ New Enquiry"** button
2. Fill in details:
   - Customer name
   - Contact (phone/email)
   - Enquiry type
   - Subject
   - Message/Details
   - Priority
3. Click **"Submit"**
4. Notification sent to management

### Responding to Enquiries

1. Find enquiry in list
2. Click **"View/Respond"** button
3. Read details
4. Add response note
5. Update status
6. Click **"Send Response"**
7. Customer notified (if email provided)

### Closing Enquiries

1. Find resolved enquiry
2. Click **"Close Enquiry"** button
3. Status changes to "Closed"
4. Archived for records

---

## 🧾 Expenses Management

### Overview

**Navigation:** Sidebar → Expenses

Track all company expenses, monitor spending, and receive alerts for large expenditures.

**Who Can Manage:** CEO, Manager, Executive Assistant

**Who Can View:** All roles

### Features

- Create, edit, and delete expenses
- Categorize expenses (Production, Salaries, Utilities, etc.)
- Real-time expense tracking
- Email alerts for large expenses
- Mobile push notifications for expense thresholds
- CSV and PDF export
- Integration with Reports (net revenue, profit margin)
- Search and filter by category, date range, amount

### Viewing Expenses

**Columns:**
- **Title**: Description of the expense
- **Amount**: Cost in Cedis (₵)
- **Category**: Type of expense
- **Description**: Additional details
- **Date**: When expense was recorded
- **Added By**: Staff member who logged it
- **Actions**: Edit, Delete (CEO/Manager/Executive Assistant only)

**Filters:**
- **By Category**: All, Production, Salaries, Utilities, Materials, Marketing, Transport, Other
- **By Date Range**: Custom date picker
- **By Amount**: Minimum and maximum amount
- **Search**: Search by title or description

### Adding an Expense

**Who Can Add:** CEO, Manager, Executive Assistant

1. Click **"+ Add Expense"** button
2. Fill in the form:
   - **Title** (required) - e.g., "Office Supplies"
   - **Amount** (required) - e.g., "1500.00"
   - **Category** (required) - Select from dropdown:
     - Production
     - Salaries
     - Utilities
     - Materials
     - Marketing
     - Transport
     - Maintenance
     - Other
   - **Description** (optional) - Additional details
3. Click **"Add Expense"**
4. Success toast appears
5. Expense added to list

### Large Expense Alerts

**Threshold:** ₵1000 (configurable by admin)

**When an expense >= ₵1000 is created:**
- 📧 **Email Alert** sent to CEO, Manager, and Executive Assistant
- 📱 **Mobile Push Notification** sent to authorized devices
- 🔔 **In-app Notification** appears in notification dropdown
- ⚠️ **Dashboard Alert** shows on Reports page

**Email Content:**
- Expense title
- Amount
- Category
- Description
- Date logged
- Added by (staff name)
- Link to view in dashboard

**Push Notification:**
- Title: "⚠️ Large Expense Alert"
- Body: "[Amount] spent on [Category]"
- Click to open expense details

### Editing an Expense

**Who Can Edit:** CEO, Manager, Executive Assistant

1. Find expense in list
2. Click **✏️ Edit** button
3. Update form opens with current data
4. Modify fields:
   - Title
   - Amount
   - Category
   - Description
5. Click **"Save Changes"**
6. Success toast appears
7. Updated in database and UI

### Deleting an Expense

**Who Can Delete:** CEO, Manager, Executive Assistant

1. Find expense in list
2. Click **🗑️ Delete** button
3. Confirmation dialog appears:
   - "Are you sure you want to delete this expense?"
   - Shows expense title and amount
4. Click **"Delete"** to confirm
5. Expense removed from database
6. Notification sent

### Exporting Expenses

**CSV Export:**
1. Apply filters (optional)
2. Click **"Export CSV"** button
3. CSV file downloads with filtered data
4. Open in Excel/Google Sheets
5. Contains: Title, Amount, Category, Description, Date, Added By

**PDF Export:**
1. Apply filters (optional)
2. Click **"Export PDF"** button
3. PDF generates with:
   - Company header
   - Date range
   - Expense table
   - Total expenses
4. Download or print

### Expense Categories

**Production:**
- Raw materials for printing jobs
- Printing plates and consumables
- Job-specific purchases

**Salaries:**
- Staff wages
- Bonuses
- Overtime payments

**Utilities:**
- Electricity bills
- Water bills
- Internet and phone

**Materials:**
- Paper stock
- Ink and toner
- Binding materials
- Laminating sheets

**Marketing:**
- Advertising costs
- Promotional materials
- Social media ads

**Transport:**
- Delivery costs
- Fuel
- Vehicle maintenance

**Maintenance:**
- Equipment repairs
- Facility maintenance
- Software licenses

**Other:**
- Miscellaneous expenses
- One-time purchases
- Uncategorized costs

### Real-Time Updates

**Supabase Realtime Integration:**
- When any user adds/edits/deletes an expense
- All connected dashboards update instantly
- No page refresh needed
- Live expense counter updates
- Reports page financial metrics update automatically

### Expenses in Reports

**Integration with Reports Page:**
- **Total Expenses Card**: Sum of all expenses
- **Net Revenue Card**: Total Revenue - Total Expenses
- **Profit Margin Card**: (Net Revenue / Total Revenue) × 100
- **Revenue vs Expenses Chart**: Visual comparison over time

---

## 📈 Reports & Analytics

### Overview

**Navigation:** Sidebar → Reports

Generate insights, visualize data, and export reports.

### Financial Metrics Dashboard

**New Enhanced Metrics:**
1. **Total Revenue** - Sum of all order amounts (₵)
2. **Total Expenses** - Sum of all company expenses (₵)
3. **Net Revenue** - Total Revenue minus Total Expenses (₵)
4. **Profit Margin** - (Net Revenue / Total Revenue) × 100 (%)

**Visual Indicators:**
- 💰 **Green Card**: Total Revenue (positive)
- 🧾 **Red Card**: Total Expenses (cost)
- 📈 **Blue Card**: Net Revenue (profit/loss indicator)
- 📊 **Purple Card**: Profit Margin percentage with rating:
  - **Excellent**: ≥ 30%
  - **Good**: 15-29%
  - **Fair**: 0-14%
  - **Loss**: < 0%

### Available Reports

1. **Financial Report** (NEW)
   - Revenue vs Expenses over time
   - Net revenue trends
   - Profit margin analysis
   - Expense breakdown by category
   - Large expense alerts log

2. **Sales Report**
   - Revenue by period
   - Top products/services
   - Payment method breakdown
   - Payment status summary

3. **Customer Report**
   - New customers
   - Top customers by revenue
   - Customer retention rate
   - Geographic distribution

4. **Order Report**
   - Orders by status
   - Completion rate
   - Average order value
   - Order trends over time

5. **Task Report**
   - Tasks by status
   - Completion rate
   - Overdue tasks
   - Staff performance

6. **Inventory Report**
   - Stock levels
   - Low stock items
   - Equipment utilization
   - Material consumption

7. **Expense Report** (NEW)
   - Expenses by category
   - Monthly/yearly expense trends
   - Top expense categories
   - Expense comparison to revenue

### Generating Reports

1. Select report type
2. Choose date range
3. Apply filters (if available)
4. Click **"Generate Report"**
5. View on screen or export

### Export Options

- **PDF**: Professional formatted report
- **Excel**: Spreadsheet with data
- **CSV**: Raw data for analysis

---

## 🔔 Notifications

### Real-Time Notifications

The app sends notifications for important events:

**Browser Notifications:**
- 🧾 New order created
- 📝 Order edited
- 🗑️ Order deleted
- ✅ Task assigned to you
- 📁 File uploaded/deleted
- 💰 Payment status changed
- ⚠️ Large expense logged (≥ ₵1000)
- 🧾 Expense added/edited/deleted

**Email Notifications:**
- ⚠️ Large expense alerts (CEO, Manager, Executive Assistant)
- 📧 Task assignments
- 📧 Order status changes
- 📧 File uploads (important documents)

**Mobile Push Notifications:**
- 📱 Large expense alerts
- 📱 Urgent task assignments
- 📱 Critical order updates

### Notification Center

**Access:** Click bell icon (🔔) in top-right

**Features:**
- Unread count badge
- Dropdown with recent notifications
- Click to navigate to relevant page
- Mark as read
- Clear all notifications

### Enabling Notifications

1. First time using the app
2. Browser asks for notification permission
3. Click **"Allow"**
4. You'll now receive push notifications even when app is in background

### Managing Notifications

**View All:**
- Click bell icon
- Scroll through list

**Mark as Read:**
- Click on notification
- It becomes marked as read
- Badge count updates

**Clear Notifications:**
- Click "Clear All" button
- All notifications removed from dropdown

---

## ⏰ Attendance Tracking

### Overview

**Navigation:** Sidebar → Attendance

Track staff attendance with location verification, clock-in/clock-out times, and work hours.

**Who Can View All Staff:** CEO, Manager, Executive Assistant

**Who Can View Own:** All staff members

### Features

- **Location-Verified Check-In** - GPS-based office proximity verification (500m radius)
- **Smart Clock-In/Out** - One-click attendance with automatic timestamps
- **Daily Status Summary** - View today's check-in, check-out, and duration
- **Attendance History** - Comprehensive log with filters and search
- **Period Filters** - Daily, Weekly, Monthly, Yearly views
- **Staff Filters** - View specific staff or all staff (managers only)
- **CSV & PDF Export** - Download attendance records for payroll
- **Real-Time Updates** - Live attendance status across dashboards

### Smart Check-In System

**Location Verification:**
- System verifies you're within 500 meters of office location
- Office coordinates: **Sampa, Ghana** (7.952673, -2.698856)
- Uses browser's Geolocation API
- Error message if out of range: "You must be within 500m of the office to check in"

**Dev Mode:**
- Development mode allows check-in from anywhere
- Shows "DEV MODE: Location check bypassed" message
- Useful for testing and remote work scenarios

**Check-In Process:**
1. Navigate to **Attendance** page
2. See today's status card
3. If not checked in:
   - Click **"Check In"** button
   - Browser requests location permission (first time)
   - Grant permission
   - System verifies location
   - Check-in recorded with timestamp
   - Success toast appears
4. Work hours start counting

**Check-Out Process:**
1. At end of work day
2. Click **"Check Out"** button
3. Check-out recorded with timestamp
4. Total duration calculated automatically
5. Status changes to "Checked Out"

### Today's Status Card

**Displays:**
- 📅 **Current Date**: Today's date
- ⏰ **Check-In Time**: When you arrived (e.g., "8:30 AM")
- ⏱️ **Duration**: Hours worked so far (live counter)
- 🏁 **Check-Out Time**: When you left (after check-out)
- 📊 **Status**: 
  - "Not Checked In" (gray)
  - "Checked In" (green)
  - "Checked Out" (blue)

**Action Buttons:**
- **Check In** (green) - Available if not checked in
- **Check Out** (blue) - Available if checked in
- Disabled if already checked out

**Location Note:**
- Shows when location verification is active
- "You must be within 500m of the office to check in"

### Attendance History

**Viewing Records:**
1. Scroll to "Attendance History" section
2. See table with all attendance records
3. Most recent records appear first

**Columns:**
- **Date**: Day of attendance (e.g., "27 Oct 2025")
- **Staff**: Name and avatar of staff member
- **Check-In**: Arrival time (e.g., "8:30 AM")
- **Check-Out**: Departure time (e.g., "5:00 PM")
- **Duration**: Total hours worked (e.g., "8.5h")
- **Status**: Badge indicating attendance state

**Status Types:**
- ✅ **Checked In** (green badge) - Currently at work
- 🏁 **Checked Out** (blue badge) - Completed work day
- ❌ **Absent** (red badge) - Did not check in
- 📝 **Manual** (purple badge) - Manually recorded by manager

### Filters & Search

**Filter Panel:**
Click **"Filters"** button to show/hide filter options

**Available Filters:**

1. **Period Filter:**
   - Daily: Today's records only
   - Weekly: Last 7 days
   - Monthly: Current month
   - Yearly: Current year

2. **Date Range:**
   - **Start Date**: Pick from calendar
   - **End Date**: Pick to calendar
   - Shows records between these dates

3. **Staff Filter:** (Managers only)
   - **All Staff**: Show everyone
   - **Select Specific Staff**: Dropdown to choose individual

**Applying Filters:**
1. Open filter panel
2. Select period or date range
3. Choose staff member (if manager)
4. Table updates automatically
5. Matching records displayed

**Clearing Filters:**
- Change filter to "All" or different period
- Table resets to show all records

### Exporting Attendance

**CSV Export:**
1. Apply desired filters (optional)
2. Click **"📥 CSV"** button in filter panel
3. File downloads as `attendance_records.csv`
4. Open in Excel/Google Sheets
5. Contains: Date, Staff Name, Check-In, Check-Out, Duration, Status

**PDF Export:**
1. Apply desired filters (optional)
2. Click **"📄 PDF"** button in filter panel
3. PDF generates with:
   - Company header "Attendance Records"
   - Filter information (date range, staff)
   - Formatted table
   - Professional layout
4. Download or print
5. Useful for payroll and HR records

### Attendance Statistics

**For Individual Staff:**
- Total days worked this month
- Total hours this month
- Average check-in time
- Late arrivals count
- Perfect attendance streak

**For Managers (All Staff View):**
- Total staff present today
- Total hours logged (all staff)
- Attendance rate (%)
- Top punctual staff
- Attendance trends chart

### Permissions

**CEO, Manager, Executive Assistant:**
- ✅ View all staff attendance
- ✅ Filter by any staff member
- ✅ Export all records
- ✅ View attendance statistics
- ✅ Manually record attendance (if needed)

**Board & Staff:**
- ✅ View own attendance only
- ✅ Check in/out
- ✅ Export own records
- ✅ View own statistics
- ❌ Cannot view other staff

### Troubleshooting Attendance

**"You must be within 500m of the office"**
- Ensure you're at the office location
- Check GPS is enabled on device
- Allow location permission in browser
- Try refreshing page
- Contact admin if working remotely

**"Location permission denied"**
- Go to browser settings
- Enable location for this site
- Refresh page
- Try again

**"Check-in error"**
- Check internet connection
- Refresh page
- Clear browser cache
- Contact system administrator

**Already checked out, can't check in again today**
- Normal behavior - one check-in per day
- Wait until next day
- Contact manager if error

---

## 🎨 Theme & Preferences

### Changing Theme

**Dark/Light Mode Toggle:**
1. Look for moon/sun icon in top-right
2. Click to toggle between:
   - ☀️ Light mode (white background)
   - 🌙 Dark mode (dark background)
3. Preference saved to browser
4. Persists across sessions

### Interface Customization

**Sidebar:**
- Collapse/expand on desktop
- Auto-hides on mobile
- Sections organized by function

**Language:**
(If multi-language support enabled)
- Select from top menu
- Interface text updates
- Number/date formats adjust

---

## 🛠️ Troubleshooting

### Common Issues

#### 1. **Cannot See Orders**

**Solutions:**
- Check your role permissions (Board members have limited access)
- Clear filters (search box, status filters)
- Refresh the page (F5)
- Check internet connection

#### 2. **File Upload Failing**

**Solutions:**
- Check file size (max usually 10MB)
- Check file type (some extensions blocked)
- Check internet connection
- Try fewer files at once
- Clear browser cache

#### 3. **Notifications Not Showing**

**Solutions:**
- Allow browser notifications in browser settings
- Check notification settings in browser
- Refresh the page
- Check if notifications table exists in database

#### 4. **Cannot Edit/Delete Orders**

**Reason:** You don't have permission
**Solution:** 
- Only CEO and Manager can edit/delete
- Contact your admin to change your role

#### 5. **Data Not Loading**

**Solutions:**
- Refresh the page
- Clear browser cache (Ctrl+Shift+Delete)
- Check internet connection
- Check if you're logged in
- Contact system administrator

#### 6. **Export Not Working**

**Solutions:**
- Disable pop-up blocker
- Try different browser
- Check if filters are too restrictive
- Ensure data exists in selected range

#### 7. **Cannot Add Expenses**

**Reason:** You don't have permission  
**Solution:** 
- Only CEO, Manager, and Executive Assistant can add expenses
- Contact your admin to change your role

#### 8. **Not Receiving Email Alerts for Large Expenses**

**Solutions:**
- Check spam/junk folder
- Verify email address in profile settings
- Ensure expense amount ≥ ₵1000
- Contact system administrator to check email configuration
- Verify RESEND_API_KEY is set in environment variables

#### 9. **Mobile Push Notifications Not Working**

**Solutions:**
- Allow push notifications in browser settings
- Enable notifications at OS level (mobile device settings)
- Ensure browser supports push notifications
- Register device token (check with admin)
- For iOS: Use Safari browser
- For Android: Chrome recommended

#### 10. **Executive Assistant Cannot Access Pages**

**Solutions:**
- Clear browser cache and cookies
- Log out and log back in
- Verify role in database (should be 'executive_assistant')
- Contact system administrator to verify RLS policies
- Check if middleware includes executive_assistant role

#### 11. **Attendance Check-In Failing**

**Solutions:**
- Enable location services on device
- Grant browser location permission
- Ensure within 500m of office (Sampa, Ghana coordinates)
- Refresh page and try again
- Contact admin if working remotely (DEV_MODE may be needed)

#### 12. **Financial Metrics Not Updating in Reports**

**Solutions:**
- Refresh the page (F5)
- Clear browser cache
- Check if expenses table exists in database
- Verify Supabase Realtime is enabled for expenses table
- Contact system administrator

### Getting Help

**Contact Support:**
- Email: support@universalprintingpress.com
- Phone: [Your support number]
- In-app chat (if available)

**Developer Contact:**
- Email: frankbediako38@gmail.com
- For technical issues, bug reports, and feature requests

**System Administrator:**
- CEO role has full access
- Can troubleshoot database issues
- Can adjust permissions
- Can manage RLS policies

---

## 📞 Support & Contact

### Technical Support

**For Technical Issues:**
- Email: tech@universalprintingpress.com
- Response time: Within 24 hours

### Business Inquiries

**For General Questions:**
- Email: info@universalprintingpress.com
- Phone: [Your phone number]

### Emergency Support

**For Critical Issues:**
- Emergency hotline: [Emergency number]
- Available 24/7 for CEO/Manager roles

---

## 📝 Best Practices

### For CEOs/Managers

1. ✅ Regularly review pending orders
2. ✅ Assign tasks promptly
3. ✅ Monitor low stock alerts
4. ✅ Respond to enquiries within 24 hours
5. ✅ Review reports weekly
6. ✅ Keep customer database updated
7. ✅ Backup important files regularly

### For Staff

1. ✅ Check assigned tasks daily
2. ✅ Update task status promptly
3. ✅ Upload order files immediately
4. ✅ Verify customer information when creating orders
5. ✅ Report equipment issues immediately
6. ✅ Clock in/out on time

### Security Best Practices

1. 🔒 Never share your login credentials
2. 🔒 Log out when using shared computers
3. 🔒 Use strong, unique passwords
4. 🔒 Report suspicious activity immediately
5. 🔒 Keep customer data confidential

---

## 🔄 Recent Updates & Changelog

### Version 3.0 (October 2025)

**Major New Features:**
- 🆕 **Executive Assistant Role** - New role with manager-level permissions
- 🧾 **Expenses Management System** - Full CRUD for company expenses
  - Email alerts for large expenses (≥ ₵1000)
  - Mobile push notifications for expense thresholds
  - CSV and PDF export
  - Real-time updates across dashboards
- 📊 **Enhanced Financial Reports** - New metrics in Reports page:
  - Total Expenses card
  - Net Revenue calculation (Revenue - Expenses)
  - Profit Margin percentage with ratings
  - Revenue vs Expenses comparison charts
- ⏰ **Smart Attendance System** - Location-verified check-in/out
  - GPS-based proximity verification (500m radius)
  - Period filters (Daily, Weekly, Monthly, Yearly)
  - Staff filters for managers
  - CSV & PDF export for payroll
  - Real-time duration tracking
- 📱 **Mobile-Responsive Notifications** - Fixed dropdown positioning
  - Full-screen mobile view
  - Improved topbar integration
  - No overlap issues

**Improvements:**
- 🚀 All rolebase components support Executive Assistant
- 🚀 Expense categories with color-coded cards
- 🚀 Enhanced permission system (RLS policies)
- 🚀 Improved error logging and user feedback
- 🚀 Compact UI for attendance cards
- 🚀 Optional customer mobile number in orders
- 🚀 Quick Navigate dropdown for Executive Assistant
- 🚀 Realtime expense updates

**Bug Fixes:**
- 🐛 Fixed login loop for Executive Assistant role
- 🐛 Fixed sidebar and topbar visibility for new role
- 🐛 Fixed attendance location verification
- 🐛 Fixed attendance status constraint errors
- 🐛 Fixed notification dropdown mobile responsiveness
- 🐛 Fixed profiles table column references (name vs full_name)
- 🐛 Fixed TypeScript build errors (select component, GlobalNotifier)

**Database Updates:**
- 📦 New `expenses` table with RLS policies
- 📦 Updated `profiles` table role constraint for Executive Assistant
- 📦 Fixed `attendance` table status constraint
- 📦 Updated RLS policies for all tables to include Executive Assistant

**Developer Notes:**
- 👨‍💻 Developer: Frank Bediako (frankbediako38@gmail.com)
- 🔧 Next.js 15 + Supabase + TypeScript
- 🎨 Tailwind CSS + shadcn/ui components
- 🔄 Supabase Realtime for live updates

---

### Version 2.0 (October 2025)

**New Features:**
- ✨ Edit and delete orders functionality
- ✨ Company-wide file storage system
- ✨ Enhanced notifications with real-time updates
- ✨ "Other Customers" management section
- ✨ Payment method dropdown selection
- ✨ Icon-only action buttons for cleaner UI
- ✨ Improved error handling

**Improvements:**
- 🚀 Faster page load times
- 🚀 Better mobile responsiveness
- 🚀 Enhanced search functionality
- 🚀 Improved data export

**Bug Fixes:**
- 🐛 Fixed order update errors
- 🐛 Fixed payment method display
- 🐛 Fixed React key warnings
- 🐛 Resolved notification issues

---

## 📚 Glossary

**Terms:**

- **Order**: A customer request for printing services
- **Task**: An assignment given to a staff member
- **Enquiry**: A customer question or quote request
- **Expense**: A company cost or expenditure
- **Top Customers**: Customers ranked by revenue
- **Other Customers**: Manually added customer records
- **Inventory**: Equipment and materials stock
- **Vendor**: Supplier of materials or services
- **RLS**: Row Level Security (database security)
- **Realtime**: Live updates without page refresh
- **Export**: Download data as file (CSV/Excel/PDF)
- **Cedis (₵)**: Ghana's currency
- **Net Revenue**: Total Revenue minus Total Expenses
- **Profit Margin**: (Net Revenue / Total Revenue) × 100
- **Executive Assistant**: Manager-level role with full permissions
- **Location Verification**: GPS-based check-in proximity validation
- **Check-In/Out**: Attendance clock-in and clock-out timestamps
- **FCM**: Firebase Cloud Messaging (push notifications)
- **Push Notification**: Mobile/browser alert sent to device

---

## ✅ Quick Reference Card

### Keyboard Shortcuts

- `Ctrl + K`: Global search (if enabled)
- `Ctrl + N`: New order (on orders page)
- `Ctrl + /`: Toggle sidebar
- `Esc`: Close modal/dialog

### Status Color Codes

**Payment Status:**
- 🟢 Green: Full payment
- 🟡 Yellow: Partial payment
- 🟠 Orange: Pending
- 🔴 Red: Overdue

**Order Status:**
- 🔵 Blue: In Progress
- 🟢 Green: Completed
- ⚪ Gray: Pending
- 🔴 Red: Cancelled

---

## 📧 Feedback & Suggestions

We value your feedback! Help us improve the UPP system:

- **Feature Requests**: features@universalprintingpress.com
- **Bug Reports**: bugs@universalprintingpress.com
- **General Feedback**: feedback@universalprintingpress.com

---

**Thank you for using the Universal Printing Press Smart Dashboard System!** 🎉

For the latest updates and tips, check the handbook regularly.

---

## 👨‍💻 Developer Information

**Developed by:** Frank Bediako  
**Email:** frankbediako38@gmail.com  
**Version:** 3.0  
**Technology Stack:**
- Next.js 15
- Supabase (Database + Storage + Auth + Realtime)
- TypeScript
- Tailwind CSS
- shadcn/ui Components
- React Hot Toast
- Heroicons

**Support:**
- For technical issues: frankbediako38@gmail.com
- For feature requests: Include "UPP Feature Request" in subject line
- For bug reports: Include "UPP Bug Report" in subject line

---

*Last updated: October 27, 2025*  
*Handbook Version: 3.0*

